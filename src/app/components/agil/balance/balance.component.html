<form [formGroup]="balanceForm">
    <!-- efectivo disponible -->
    <mat-card>
        <mat-card-header>
            <mat-card-title>Efectivo Disponible</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <div class="gr" fxFlex="100%" fxFlex.xs="300%" fxFlex.sm="100%">
                <mat-form-field>
                    <input type="tel" autocomplete="off" matInput placeholder="Valor" id="efectivo"
                        formControlName="efectivo">
                </mat-form-field>
            </div>
        </mat-card-content>
    </mat-card>
    <!-- Cuentas por Cobrar -->
    <mat-card>
        <mat-card-header>
            <mat-card-title>Cuentas por Cobrar</mat-card-title>
            <mat-card-subtitle>cobrar</mat-card-subtitle>
            <mat-chip-list class="pull-right">
                <mat-chip color="accent" selected>
                    $ {{balanceForm.controls.cobrarTotal.value}}
                </mat-chip>
            </mat-chip-list>
        </mat-card-header>
        <mat-card-content fxLayout="row wrap">
            <div class="gr" fxFlex="20%" fxFlex.xs="20%" fxFlex.sm="20%">
                <mat-form-field>
                    <input type="number" matInput placeholder="#Clientes" id="clienteCobrar"
                        formControlName="clienteCobrar">
                </mat-form-field>
            </div>
            <div class="gr" fxFlex="30%" fxFlex.xs="30%" fxFlex.sm="40%">
                <mat-form-field>
                    <input type="tel" matInput placeholder="Valor" id="valorCobrar" formControlName="valorCobrar">
                </mat-form-field>
            </div>
            <div class="gr" fxFlex="30%" fxFlex.xs="30%" fxFlex.sm="40%">
                <mat-form-field>
                    <input type="tel" matInput placeholder="Incobrable" id="incobrableCobrar"
                        formControlName="incobrableCobrar">
                </mat-form-field>
            </div>
            <div class="gr" fxFlex="20%" fxFlex.xs="20%" fxFlex.sm="40%">
                <mat-chip-list>
                    <mat-chip>
                        {{balanceForm.controls.porcentajeCobrar.value}}%
                    </mat-chip>
                </mat-chip-list>
            </div>

            <div class="gr" fxFlex="100%" fxFlex.xs="100%" fxFlex.sm="60%">
                <mat-form-field class="example-full-width">
                    <mat-label>Observaciones</mat-label>
                    <textarea matInput formControlName="observacionesCobrar"
                        placeholder="Observaciones">Observaciones...</textarea>
                </mat-form-field>
            </div>

            <ng-container *ngIf="tipoSol==1">
                <div class="gr" fxFlex="100%" fxFlex.xs="100%" fxFlex.sm="100%">
                    <mat-form-field>
                        <mat-label>Recuperacion de cartera del mes</mat-label>
                        <input matInput placeholder="Valor" id="recuperacionCobrar"
                            formControlName="recuperacionCobrar">
                    </mat-form-field>
                </div>
            </ng-container>
        </mat-card-content>
    </mat-card>
    <!-- Recuperacion de cartera -->
    <ng-container *ngIf="tipoSol==2">
        <mat-card>
            <mat-card-header>
                <mat-card-title>Recuperacion de cartera</mat-card-title>
                <mat-card-subtitle>recuperacion</mat-card-subtitle>
                <mat-chip-list>
                    <mat-chip color="accent" selected>{{balanceForm.controls.totalRecuperacion.value| currency:'$' :
                        'symbol' : '1.0-0'}}</mat-chip>
                </mat-chip-list>
            </mat-card-header>
            <mat-card-content>
                <div formArrayName="recuperacion" class="alternate">
                    <div fxLayout="row wrap" class="content"
                        *ngFor="let itemrow of balanceForm.controls.recuperacion['controls']; let rec=index"
                        [formGroupName]="rec">
                        <div class="gr" fxFlex="55%" fxFlex.xs="55%" fxFlex.sm="55%">
                            <mat-form-field>
                                <mat-label>Mes</mat-label>
                                <mat-select formControlName="mes" id="mes{{rec}}" required>
                                    <mat-option>--</mat-option>
                                    <mat-option *ngFor="let mes of meses" [value]="mes.id">
                                        {{mes.name}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="gr" fxFlex="45%" fxFlex.xs="45%" fxFlex.sm="45%">
                            <mat-form-field>
                                <input type="tel" matInput placeholder="Valor" id="valor{{rec}}"
                                    formControlName="valor">
                            </mat-form-field>
                        </div>
                        <button class="btndelete" color="warn" mat-icon-button [disabled]="rec==0"
                            (click)="deleteRecuperacion(rec)">
                            <mat-icon>cancel</mat-icon>
                        </button>
                    </div>
                </div>
                <button mat-fab aria-label="add" [disabled]="balanceForm.controls.recuperacion['controls'].length >= 3"
                    mat-mini-fab class="btnadd" type="button" color="accent" (click)="addNewRecuperacion()">
                    <mat-icon>add</mat-icon>
                </button>
            </mat-card-content>
        </mat-card>
    </ng-container>
    <!--
    .####.##....##.##.....##.########.##....##.########....###....########..####..#######.    
    ..##..####..##.##.....##.##.......####..##....##.....##...##..##.....##..##..##.....##
    ..##..##.##.##.##.....##.######...##.##.##....##....##.....##.########...##..##.....##
    ..##..##..####..##...##..##.......##..####....##....#########.##...##....##..##.....##   
    .####.##....##....###....########.##....##....##....##.....##.##.....##.####..#######.
    -->
    <app-inventario *ngIf="solicitud" (newInventario)="insertInventario($event)" [solicitud]="solicitud">
    </app-inventario>
    <!--        
    <mat-card>
        <mat-card-header>
            <mat-card-title>Inventario</mat-card-title>
            <mat-card-subtitle>inventario</mat-card-subtitle>
            <mat-chip-list class="pull-right">
                <mat-chip color="accent" selected>${{balanceForm.controls.inventarioTotal.value}}</mat-chip>
            </mat-chip-list>
        </mat-card-header>
        <mat-card-content>
            <div formArrayName="inventarioRow" class="alternate">
                <div fxLayout="row wrap" class="content"
                    *ngFor="let itemrow of balanceForm.controls.inventarioRow['controls']; let inv=index"
                    [formGroupName]="inv">
                    <div class="gr" fxFlex="100%" fxFlex.xs="100%" fxFlex.sm="100%">
                        <mat-form-field class="example-full-width">
                            <mat-label>Detalle</mat-label>
                            <textarea matInput formControlName="descripcion"></textarea>
                        </mat-form-field>
                    </div>

                    <div class="gr" fxFlex="100%" fxFlex.xs="100%" fxFlex.sm="100%">
                        <ng-container [ngSwitch]="tipoSol">
                            <ng-container *ngSwitchCase="1">
                                <mat-form-field>
                                    <mat-label>Tipo</mat-label>
                                    <mat-select formControlName="tipo" id="tipo{{inv}}" required>
                                        <mat-option>--</mat-option>
                                        <mat-option *ngFor="let tip of tipoInventario" [value]="tip">
                                            {{tip.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </ng-container>
                            <ng-container *ngSwitchCase="2">
                                <mat-form-field>
                                    <mat-label>Tipo</mat-label>
                                    <mat-select formControlName="tipo" id="tipo{{inv}}" required>
                                        <mat-option>Tipo Inventario</mat-option>
                                        <mat-option *ngFor="let tip of tipoInventarioAgro" [value]="tip">
                                            {{tip.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </ng-container>
                        </ng-container>
                    </div>
                    <div class="gr" fxFlex="20%" fxFlex.xs="20%" fxFlex.sm="20%">
                        <mat-form-field>
                            <input type="number" matInput placeholder="Cantidad" id="cantidad{{inv}}"
                                formControlName="cantidad">
                        </mat-form-field>
                    </div>
                    <div class="gr" fxFlex="40%" fxFlex.xs="40%" fxFlex.sm="40%">
                        <mat-form-field>
                            <input type="tel" matInput placeholder="Valor unitario" id="vlrUni{{inv}}"
                                formControlName="vlrUni">
                        </mat-form-field>
                    </div>
                    <div class="gr" fxFlex="40%" fxFlex.xs="40%" fxFlex.sm="40%">
                        <mat-form-field>
                            <input type="tel" matInput placeholder="Valor" id="valor{{inv}}" formControlName="valor"
                                readonly>
                        </mat-form-field>
                    </div>
                    <button class="btndelete" color="warn" mat-icon-button [disabled]="inv==0"
                        (click)="deleteInventarioRow(inv)">
                        <mat-icon>cancel</mat-icon>
                    </button>
                </div>
            </div>
            <button mat-fab aria-label="add" mat-mini-fab class="btnadd"
                [disabled]="balanceForm.controls.inventarioRow['controls'].length>=20" type="button" color="accent"
                (click)="addInventarioRow()">
                <mat-icon>add</mat-icon>
            </button>
        </mat-card-content>
    </mat-card>
    -->
    <!--
    ....###.....######..########.####.##.....##..#######...######.....##....##.########..######....#######...######..####..#######.
    ...##.##...##....##....##.....##..##.....##.##.....##.##....##....###...##.##.......##....##..##.....##.##....##..##..##.....##
    .##.....##.##..........##.....##..##.....##.##.....##..######.....##.##.##.######...##...####.##.....##.##........##..##.....##
    .#########.##..........##.....##...##...##..##.....##.......##....##..####.##.......##....##..##.....##.##........##..##.....##
    .##.....##..######.....##....####....###.....#######...######.....##....##.########..######....#######...######..####..#######.
    -->
    <mat-card>
        <mat-card-header>
            <mat-card-title>Activos del Negocio</mat-card-title>
            <mat-card-subtitle>activos</mat-card-subtitle>
            <mat-chip-list class="pull-right">
                <mat-chip color="accent" selected>${{balanceForm.controls.actnegTotal.value}}</mat-chip>
            </mat-chip-list>
        </mat-card-header>
        <mat-card-content>
            <div formArrayName="actividadNegRows" class="alternate">
                <div fxLayout="row wrap" class="content"
                    *ngFor="let itemrow of balanceForm.controls.actividadNegRows['controls']; let actneg=index"
                    [formGroupName]="actneg">
                    <div class="gr" fxFlex="100%" fxFlex.xs="100%" fxFlex.sm="100%">
                        <mat-form-field>
                            <mat-label>Detalle</mat-label>
                            <textarea matInput formControlName="detalle"></textarea>
                        </mat-form-field>
                    </div>
                    <div class="gr" fxFlex="100%" fxFlex.xs="100%" fxFlex.sm="100%">
                        <mat-form-field>
                            <mat-label>Tipo</mat-label>
                            <mat-select formControlName="tipo" id="tipo{{actneg}}" required>
                                <mat-option>Tipo</mat-option>
                                <mat-option *ngFor="let tip of tipoActivo" [value]="tip">
                                    {{tip.name}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div class="gr" fxFlex="20%" fxFlex.xs="20%" fxFlex.sm="20%">
                        <mat-form-field>
                            <input type="number" matInput placeholder="Cantidad" id="cantidad{{actneg}}"
                                formControlName="cantidad">
                        </mat-form-field>
                    </div>
                    <div class="gr" fxFlex="40%" fxFlex.xs="40%" fxFlex.sm="40%">
                        <mat-form-field>
                            <input type="tel" matInput placeholder="Vlr unitario" id="vlrUni{{actneg}}"
                                formControlName="vlrUni">
                        </mat-form-field>
                    </div>
                    <div class="gr" fxFlex="40%" fxFlex.xs="40%" fxFlex.sm="40%">
                        <mat-form-field>
                            <input type="tel" matInput placeholder="Valor" id="valor{{actneg}}" formControlName="valor"
                                readonly>
                        </mat-form-field>
                    </div>
                    <button class="btndelete" color="warn" mat-icon-button [disabled]="actneg==0"
                        (click)="deleteActNegRow(actneg)">
                        <mat-icon>cancel</mat-icon>
                    </button>
                </div>
            </div>
            <button mat-fab aria-label="add" [disabled]="balanceForm.controls.actividadNegRows['controls'].length >=20"
                mat-mini-fab class="btnadd" type="button" color="accent" (click)="addActNegNewRow()">
                <mat-icon>add</mat-icon>
            </button>
        </mat-card-content>
    </mat-card>
    <!-- activos familia -->
    <mat-card>
        <mat-card-header>
            <mat-card-title>Activos de la Familia</mat-card-title>
            <mat-card-subtitle>activos</mat-card-subtitle>
            <mat-chip-list class="pull-right">
                <mat-chip color="accent" selected>${{balanceForm.controls.actfamTotal.value}}</mat-chip>
            </mat-chip-list>
        </mat-card-header>
        <mat-card-content>
            <div formArrayName="activosFamRows" class="alternate">
                <div fxLayout="row wrap" class="content"
                    *ngFor="let itemrow of balanceForm.controls.activosFamRows['controls']; let actfam=index"
                    [formGroupName]="actfam">
                    <div class="gr" fxFlex="100%" fxFlex.xs="100%" fxFlex.sm="100%">
                        <mat-form-field>
                            <mat-label>Detalle</mat-label>
                            <textarea matInput formControlName="detalle"></textarea>
                        </mat-form-field>
                    </div>
                    <div class="gr" fxFlex="100%" fxFlex.xs="100%" fxFlex.sm="100%">
                        <mat-form-field>
                            <mat-label>Tipo</mat-label>
                            <mat-select formControlName="tipo" id="tipo{{actfam}}" required>
                                <mat-option>--</mat-option>
                                <mat-option *ngFor="let tipfam of tipoActivoFam" [value]="tipfam">
                                    {{tipfam.name}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div class="gr" fxFlex="20%" fxFlex.xs="20%" fxFlex.sm="20%">
                        <mat-form-field>
                            <input type="number" matInput placeholder="Cantidad" id="cantidad{{actfam}}"
                                formControlName="cantidad">
                        </mat-form-field>
                    </div>
                    <div class="gr" fxFlex="40%" fxFlex.xs="40%" fxFlex.sm="40%">
                        <mat-form-field>
                            <input type="tel" matInput placeholder="Vlr unitario" id="vlrUni{{actfam}}"
                                formControlName="vlrUni">
                        </mat-form-field>
                    </div>
                    <div class="gr" fxFlex="40%" fxFlex.xs="40%" fxFlex.sm="40%">
                        <mat-form-field>
                            <input type="tel" matInput placeholder="Valor" id="valor{{actfam}}" formControlName="valor"
                                readonly>
                        </mat-form-field>
                    </div>
                    <button class="btndelete" color="warn" mat-icon-button [disabled]="actfam==0"
                        (click)="deleteActFamRow(actfam)">
                        <mat-icon>cancel</mat-icon>
                    </button>
                </div>
            </div>
            <button mat-mini-fab aria-label="add" class="btnadd" type="button" color="accent"
                (click)="addActFamNewRow()" [disabled]="balanceForm.controls.activosFamRows['controls'].length >=20">
                <mat-icon>add</mat-icon>
            </button>
        </mat-card-content>
    </mat-card>
    <!-- proveedores -->
    <mat-card>
        <mat-card-header>
            <mat-card-subtitle>Créditos con proveedores</mat-card-subtitle>
            <mat-chip-list class="pull-right">
                <mat-chip color="accent" selected>${{balanceForm.controls.proveedoresTotal.value}}</mat-chip>
            </mat-chip-list>
        </mat-card-header>
        <mat-card-content>
            <mat-card-content>
                No
                <mat-slide-toggle (change)="clear(balanceForm.controls.proveedoresRow,'proveedores')"
                    formControlName="aplicaproveedores">
                </mat-slide-toggle>
                Si
            </mat-card-content>
            <ng-container *ngIf="balanceForm.controls.aplicaproveedores.value">
                <!-- proveedores comercial -->
                <ng-container *ngIf="tipoSol==1">

                    <div formArrayName="proveedoresRow" class="alternate">
                        <div fxLayout="row wrap" class="content"
                            *ngFor="let itemrow of balanceForm.controls.proveedoresRow['controls']; let prov=index"
                            [formGroupName]="prov">

                            <div class="gr" fxFlex="60%" fxFlex.xs="60%" fxFlex.sm="60%">
                                <mat-form-field>
                                    <input type="text" matInput placeholder="Proveedor" id="descripcion{{prov}}"
                                        formControlName="descripcion">
                                </mat-form-field>
                            </div>
                            <div class="gr" fxFlex="40%" fxFlex.xs="40%" fxFlex.sm="40%">
                                <mat-form-field>
                                    <input type="tel" matInput placeholder="Valor" id="valor{{prov}}"
                                        formControlName="valor">
                                </mat-form-field>
                            </div>
                            <button class="btndelete" color="warn" mat-icon-button [disabled]="prov==0"
                                (click)="deleteProvRow(prov)">
                                <mat-icon>cancel</mat-icon>
                            </button>
                        </div>
                    </div>
                    <button mat-fab aria-label="add" mat-mini-fab class="btnadd" type="button" color="accent"
                        (click)="addNewProvRow()"
                        [disabled]="balanceForm.controls.proveedoresRow['controls'].length >=4">
                        <mat-icon>add</mat-icon>
                    </button>
                </ng-container>
                <!-- proveedores agropecuario -->
                <ng-container *ngIf="tipoSol==2">

                    <div formArrayName="proveedoresEstacionales" class="alternate">
                        <div fxLayout="row wrap" class="content"
                            *ngFor="let proveedor of proveedoresEst().controls; let prov=index" [formGroupName]="prov">

                            <div class="gr" fxFlex="60%" fxFlex.xs="60%" fxFlex.sm="60%">
                                <mat-form-field>
                                    <input type="text" matInput autocomplete="off" placeholder="Proveedor" id="nombre"
                                        formControlName="nombre">
                                </mat-form-field>
                            </div>
                            <div class="gr" fxFlex="40%" fxFlex.xs="40%" fxFlex.sm="40%">
                                <mat-form-field>
                                    <input type="number" matInput autocomplete="off" placeholder="Numero Cuotas"
                                        id="numcuotas{{prov}}" formControlName="numcuotas"
                                        (keyup)="loadcuotasProveedores(prov,proveedor.value.numcuotas)">
                                </mat-form-field>
                            </div>

                            <div formArrayName="cuotas">
                                <div fxLayout="row wrap"
                                    *ngFor="let proveedor of cuotasproveedores(prov).controls; let cuo=index"
                                    [formGroupName]="cuo">

                                    <div class="gr" fxFlex="50%" fxFlex.xs="50%" fxFlex.sm="50%">
                                        <mat-form-field>
                                            <mat-label>Mes</mat-label>
                                            <mat-select formControlName="mes" required>
                                                <mat-option>-Seleccione-</mat-option>
                                                <mat-option *ngFor="let mes of meses" [value]="mes.id">
                                                    {{mes.name}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="gr" fxFlex="50%" fxFlex.xs="50%" fxFlex.sm="50%">
                                        <mat-form-field>
                                            <input type="tel" matInput placeholder="Valor" formControlName="valor">
                                        </mat-form-field>
                                    </div>

                                </div>
                            </div>

                            <div class="gr" fxFlex="100%" fxFlex.xs="100%" fxFlex.sm="100%">
                                <mat-form-field appearance="outline">
                                    <mat-label>Total</mat-label>
                                    <input matInput type="Total" readonly formControlName="total">
                                    <mat-icon matSuffix>attach_money</mat-icon>
                                </mat-form-field>
                            </div>
                            <button class="btndelete" color="warn" mat-icon-button [disabled]="prov==0"
                                (click)="deleteProvEst(prov)">
                                <mat-icon>cancel</mat-icon>
                            </button>
                        </div>
                    </div>
                    <button mat-fab aria-label="add" mat-mini-fab class="btnadd" type="button" color="accent"
                        (click)="addNewProvEst()"
                        [disabled]="balanceForm.controls.proveedoresEstacionales['controls'].length >=4">
                        <mat-icon>add</mat-icon>
                    </button>

                </ng-container>
            </ng-container>
        </mat-card-content>
    </mat-card>
    <!-- creditos -->
    <mat-card>
        <mat-card-header>
            <mat-card-subtitle>¿Si se va a otorgar otra linea de crédito, diligenciar valor de la cuota del crédito
                actual?</mat-card-subtitle>
            <mat-chip-list>
                <mat-chip color="accent" selected>${{balanceForm.controls.totalCreditos.value}}</mat-chip>
            </mat-chip-list>
        </mat-card-header>
        <mat-card-content>
            <mat-card-content>
                No
                <mat-slide-toggle (change)="clear(balanceForm.controls.creditos,'creditoactual')"
                    formControlName="creditoactual">
                </mat-slide-toggle>
                Si
            </mat-card-content>
            <ng-container *ngIf="balanceForm.controls.creditoactual.value">
                <!-- creditos con fdlm Comercial -->
                <ng-container *ngIf="tipoSol==1">
                    <div formArrayName="creditos" class="alternate">
                        <div fxLayout="row wrap" class="content"
                            *ngFor="let itemrow of balanceForm.controls.creditos['controls']; let cre=index"
                            [formGroupName]="cre">

                            <div class="gr" fxFlex="100%" fxFlex.xs="100%" fxFlex.sm="100%">
                                <mat-form-field>
                                    <input type="tel" autocomplete="off" matInput placeholder="Valor" id="valor{{cre}}"
                                        formControlName="valor">
                                </mat-form-field>
                            </div>
                            <button class="btndelete" color="warn" mat-icon-button [disabled]="cre==0"
                                (click)="deleteCredito(cre)">
                                <mat-icon>cancel</mat-icon>
                            </button>
                        </div>
                    </div>
                    <button mat-fab aria-label="add" mat-mini-fab class="btnadd" type="button"
                        [disabled]="balanceForm.controls.creditos['controls'].length >=4" color="accent"
                        (click)="addNewCredito()">
                        <mat-icon>add</mat-icon>
                    </button>
                </ng-container>
                <!-- creditos con fdlm Agropecuario -->
                <ng-container *ngIf="tipoSol==2">

                    <div formArrayName="creditosDetalle" class="alternate">
                        <div fxLayout="row wrap" class="content"
                            *ngFor="let credito of creditosDetalle().controls; let cre=index" [formGroupName]="cre">

                            <div class="gr" fxFlex="50%" fxFlex.xs="50%" fxFlex.sm="50%">
                                <mat-form-field>
                                    <mat-label>Periodo</mat-label>
                                    <mat-select formControlName="frecuencia" required>
                                        <mat-option>--</mat-option>
                                        <mat-option *ngFor="let pe of periodo" [value]="pe">
                                            {{pe.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="gr" fxFlex="50%" fxFlex.xs="50%" fxFlex.sm="50%">
                                <mat-form-field>
                                    <input type="tel" matInput autocomplete="off" placeholder="Numero cuotas"
                                        formControlName="numcuota"
                                        (keyup)="loadcuotasCreditos(cre,credito.value.numcuota)">
                                </mat-form-field>
                            </div>

                            <!-- cuotas del credito que le hacen falta  -->
                            <div formArrayName="cuotas">
                                <div fxLayout="row wrap"
                                    *ngFor="let proveedor of cuotasCreditos(cre).controls; let cuo=index"
                                    [formGroupName]="cuo">

                                    <div class="gr" fxFlex="50%" fxFlex.xs="50%" fxFlex.sm="50%">
                                        <mat-form-field>
                                            <mat-label>Fecha</mat-label>
                                            <input matInput [matDatepicker]="fecha" autocomplete="off"
                                                formControlName="fecha" readonly [min]="minDate">
                                            <mat-datepicker-toggle matSuffix [for]="fecha"></mat-datepicker-toggle>
                                            <mat-datepicker #fecha disabled="false"></mat-datepicker>
                                        </mat-form-field>
                                    </div>
                                    <div class="gr" fxFlex="50%" fxFlex.xs="50%" fxFlex.sm="50%">
                                        <mat-form-field>
                                            <input type="tel" autocomplete="off" matInput placeholder="Valor"
                                                formControlName="valor">
                                        </mat-form-field>
                                    </div>
                                </div>
                            </div>
                            <div class="gr" fxFlex="100%" fxFlex.xs="100%" fxFlex.sm="100%">
                                <mat-form-field appearance="outline">
                                    <mat-label>Total</mat-label>
                                    <input matInput type="Total" readonly formControlName="total">
                                    <mat-icon matSuffix>attach_money</mat-icon>
                                </mat-form-field>
                            </div>
                            <button class="btndelete" color="warn" mat-icon-button *ngIf="cre>0"
                                (click)="deleteCreditoDetalle(cre)">
                                <mat-icon>cancel</mat-icon>
                            </button>
                        </div>
                    </div>
                    <button mat-fab aria-label="add" mat-mini-fab class="btnadd" type="button" color="accent"
                        (click)="addCreditoDetalle()" [disabled]="creditosDetalle().controls.length >=4">
                        <mat-icon>add</mat-icon>
                    </button>

                </ng-container>
            </ng-container>
        </mat-card-content>
    </mat-card>
    <!-- inversiones ultimo año -->
    <mat-card>
        <mat-card-header>
            <mat-card-subtitle>¿Ha realizado alguna inversión el ultimo año ?</mat-card-subtitle>
            <mat-chip-list>
                <mat-chip color="accent" selected>${{balanceForm.controls.totalInversiones.value}}</mat-chip>
            </mat-chip-list>
        </mat-card-header>
        <mat-card-content>
            <mat-card-content>
                No
                <mat-slide-toggle (change)="clear(balanceForm.controls.inversiones,'inversiones')"
                    formControlName="aplicaInversiones">
                </mat-slide-toggle>
                Si
            </mat-card-content>
            <ng-container *ngIf="balanceForm.controls.aplicaInversiones.value">
                <div formArrayName="inversiones" class="alternate">
                    <div fxLayout="row wrap" class="content"
                        *ngFor="let itemrow of balanceForm.controls.inversiones['controls']; let inver=index"
                        [formGroupName]="inver">

                        <div class="gr" fxFlex="70%" fxFlex.xs="70%" fxFlex.sm="70%">
                            <mat-form-field>
                                <input type="text" matInput placeholder="Detalle" id="detalle{{inver}}"
                                    formControlName="detalle">
                            </mat-form-field>
                        </div>
                        <div class="gr" fxFlex="30%" fxFlex.xs="30%" fxFlex.sm="30%">
                            <mat-form-field>
                                <mat-label>Mes</mat-label>
                                <mat-select formControlName="mes" id="mes{{inver}}" required>
                                    <mat-option>--</mat-option>
                                    <mat-option *ngFor="let mes of meses" [value]="mes.id">
                                        {{mes.name}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="gr" fxFlex="50%" fxFlex.xs="50%" fxFlex.sm="50%">
                            <mat-form-field>
                                <input type="text" matInput placeholder="Origen" id="origen{{inver}}"
                                    formControlName="origen">
                            </mat-form-field>
                        </div>
                        <div class="gr" fxFlex="50%" fxFlex.xs="50%" fxFlex.sm="50%">
                            <mat-form-field>
                                <input type="tel" autocomplete="off" matInput placeholder="Valor" id="valor{{inver}}"
                                    formControlName="valor">
                            </mat-form-field>
                        </div>
                        <button class="btndelete" color="warn" mat-icon-button [disabled]="inver==0"
                            (click)="deleteInversion(inver)">
                            <mat-icon>cancel</mat-icon>
                        </button>
                    </div>
                </div>
                <button mat-fab aria-label="add" mat-mini-fab class="btnadd" type="button"
                    [disabled]="balanceForm.controls.inversiones['controls'].length >=4" color="accent"
                    (click)="addInversion()">
                    <mat-icon>add</mat-icon>
                </button>
            </ng-container>
        </mat-card-content>
    </mat-card>
    <!--
    .########.....###.....######..####.##.....##..#######...######.
    .##.....##...##.##...##....##..##..##.....##.##.....##.##....##   
    .########..##.....##..######...##..##.....##.##.....##..######.
    .##........#########.......##..##...##...##..##.....##.......##   
    .##........##.....##..######..####....###.....#######...######.
    -->
    <mat-card>
        <mat-card-header>
            <mat-card-title>Pasivos</mat-card-title>
            <mat-card-subtitle>Las deudas que la persona posee frente a terceros</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
            <div formArrayName="pasivosRows" class="alternate">
                <div fxLayout="row wrap" class="content"
                    *ngFor="let itemrow of balanceForm.controls.pasivosRows['controls']; let pas=index"
                    [formGroupName]="pas">

                    <div class="gr" fxFlex="100%" fxFlex.xs="100%" fxFlex.sm="100%">
                        <mat-form-field>
                            <mat-label>Tipo</mat-label>
                            <mat-select formControlName="tipo" id="tipo{{pas}}" required>
                                <mat-option disabled>-Seleccione Tipo Pasivo-</mat-option>
                                <mat-option *ngFor="let tip of tipoPasivo" [value]="tip">
                                    {{tip.name}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>

                    <ng-container *ngIf="itemrow.value.tipo">
                        <ng-container [ngSwitch]="itemrow.value.tipo.template">

                            <ng-container *ngSwitchCase="'entfinan'">

                                <!-- Si es de libranza -->
                                <ng-container *ngIf="itemrow.value.tipo.id ==3">
                                    <div class="gr" fxFlex="100%" fxFlex.xs="100%" fxFlex.sm="100%">
                                        ¿Se verifica descuento de la cuota en los ingresos?
                                        <mat-slide-toggle formControlName="descuentolibranza">
                                        </mat-slide-toggle>
                                    </div>
                                </ng-container>

                                <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="33%">
                                    <mat-form-field>
                                        <mat-label>Clase</mat-label>
                                        <mat-select formControlName="clase" id="clase{{pas}}" required>
                                            <mat-option>--</mat-option>
                                            <mat-option *ngFor="let cla of clasePasivo"
                                                [disabled]="itemrow.value.tipo.id ==5" [value]="cla.id">
                                                {{cla.name}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>

                                <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="33%">
                                    <mat-form-field>
                                        <input type="text" autocomplete="off" matInput placeholder="Acreedor"
                                            id="acreedor{{pas}}" formControlName="acreedor">
                                    </mat-form-field>
                                </div>
                                <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="33%">
                                    <mat-form-field>
                                        <input type="tel" matInput placeholder="Monto Apr" id="monto{{pas}}"
                                            formControlName="monto">
                                    </mat-form-field>
                                </div>
                                <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="33%">
                                    <mat-form-field>
                                        <input type="tel" matInput placeholder="Saldo" id="saldo{{pas}}"
                                            formControlName="saldo">
                                    </mat-form-field>
                                </div>
                                <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="33%">
                                    <mat-form-field>
                                        <input type="number" autocomplete="off" matInput placeholder="Plazo"
                                            id="plazo{{pas}}" formControlName="plazo">
                                    </mat-form-field>
                                </div>
                                <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="33%">
                                    <mat-form-field>
                                        <input type="number" autocomplete="off" matInput placeholder="#Cuota Actual"
                                            id="cuota{{pas}}" formControlName="cuota">
                                    </mat-form-field>
                                </div>
                                <div class="gr" fxFlex="67%" fxFlex.xs="67%" fxFlex.sm="67%">
                                    <mat-form-field>
                                        <input type="text" autocomplete="off" matInput placeholder="Destino"
                                            id="destino{{pas}}" formControlName="destino">
                                    </mat-form-field>
                                </div>
                                <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="33%">
                                    <mat-form-field>
                                        <input type="tel" [readonly]="itemrow.value.descuentolibranza" matInput
                                            placeholder="Valor Cuota Datacredito" formControlName="valor">
                                    </mat-form-field>
                                </div>

                                <div class="gr" fxFlex="50%" fxFlex.xs="50%" fxFlex.sm="50%">
                                    <mat-form-field>
                                        <mat-label>Periodo</mat-label>
                                        <mat-select formControlName="periodo" [compareWith]="compareFunction" required>
                                            <mat-option>--</mat-option>
                                            <mat-option *ngFor="let pe of periodo" [value]="pe">
                                                {{pe.name}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>

                                <div class="gr" fxFlex="50%" fxFlex.xs="50%" fxFlex.sm="50%">
                                    <mat-form-field>
                                        <input type="tel" matInput placeholder="Proyeccion" id="proyeccion{{pas}}"
                                            formControlName="proyeccion" readonly>
                                    </mat-form-field>
                                </div>


                                <ng-container *ngIf="itemrow.value.clase ==2">

                                    <div class="gr" fxFlex="50%" fxFlex.xs="50%" fxFlex.sm="50%">
                                        <mat-form-field>
                                            <input type="text" matInput placeholder="Corriente" id="corriente{{pas}}"
                                                formControlName="corrienteN" readonly>
                                        </mat-form-field>
                                    </div>
                                    <div class="gr" fxFlex="50%" fxFlex.xs="50%" fxFlex.sm="50%">
                                        <mat-form-field>
                                            <input type="text" matInput placeholder="No corriente"
                                                id="nocorriente{{pas}}" formControlName="nocorrienteN" readonly>
                                        </mat-form-field>
                                    </div>

                                </ng-container>

                                <ng-container *ngIf="itemrow.value.clase ==1">

                                    <div class="gr" fxFlex="50%" fxFlex.xs="50%" fxFlex.sm="50%">
                                        <mat-form-field>
                                            <input type="text" matInput placeholder="Corriente" id="corrienteF{{pas}}"
                                                formControlName="corrienteF" readonly>
                                        </mat-form-field>
                                    </div>
                                    <div class="gr" fxFlex="50%" fxFlex.xs="50%" fxFlex.sm="50%">
                                        <mat-form-field>
                                            <input type="text" matInput placeholder="No corriente"
                                                id="nocorrienteF{{pas}}" formControlName="nocorrienteF" readonly>
                                        </mat-form-field>
                                    </div>
                                </ng-container>

                            </ng-container>

                            <ng-container *ngSwitchCase="'hipo'">
                                <div class="gr" fxFlex="100%" fxFlex.xs="100%" fxFlex.sm="100%">
                                    ¿El negocio queda ubicado en la
                                    vivienda
                                    hipotecada?
                                    <mat-slide-toggle (change)="changeHipoteca(itemrow)"
                                        formControlName="negociovivienda">
                                    </mat-slide-toggle>
                                </div>
                                <ng-container *ngIf="itemrow.value.negociovivienda">
                                    <div class="gr" fxFlex="100%" fxFlex.xs="100%" fxFlex.sm="26%">
                                        <mat-form-field>
                                            <input type="number" matInput placeholder="¿Porcentaje que ocupa negocio?"
                                                formControlName="porcentajeneg">
                                        </mat-form-field>
                                    </div>
                                </ng-container>
                                <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="33%">
                                    <mat-form-field>
                                        <input type="tel" matInput placeholder="Monto Apr Inicial"
                                            formControlName="monto">
                                    </mat-form-field>
                                </div>
                                <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="33%">
                                    <mat-form-field>
                                        <input type="tel" matInput placeholder="Saldo Actual" id="saldo{{pas}}"
                                            formControlName="saldo">
                                    </mat-form-field>
                                </div>
                                <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="33%">
                                    <mat-form-field>
                                        <input type="num" matInput placeholder="Plazo" id="plazo{{pas}}"
                                            formControlName="plazo">
                                    </mat-form-field>
                                </div>
                                <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="33%">
                                    <mat-form-field>
                                        <input type="tel" matInput placeholder="#Cuota Actual" id="cuota{{pas}}"
                                            formControlName="cuota">
                                    </mat-form-field>
                                </div>
                                <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="33%">
                                    <mat-form-field>
                                        <input type="text" matInput placeholder="Acreedor" id="acreedor{{pas}}"
                                            formControlName="acreedor">
                                    </mat-form-field>
                                </div>
                                <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="33%">
                                    <mat-form-field>
                                        <input type="tel" matInput placeholder="Cuota" formControlName="cuotahipoteca">
                                    </mat-form-field>
                                </div>
                                <ng-container *ngIf="itemrow.value.negociovivienda">
                                    <div class="gr" fxFlex="100%" fxFlex.xs="100%" fxFlex.sm="100%">
                                        <b>Negocio</b>
                                    </div>
                                    <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="33%">
                                        <mat-form-field appearance="outline">
                                            <mat-label>Monto Apr</mat-label>
                                            <input type="tel" readonly matInput placeholder="Monto" id="montoN{{pas}}"
                                                formControlName="montoN">
                                        </mat-form-field>
                                    </div>
                                    <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="33%">
                                        <mat-form-field appearance="outline">
                                            <mat-label>Corriente</mat-label>
                                            <input type="text" matInput placeholder="Corriente" id="corrienteN{{pas}}"
                                                formControlName="corrienteN" readonly>
                                        </mat-form-field>
                                    </div>
                                    <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="33%">
                                        <mat-form-field appearance="outline">
                                            <mat-label>No Corriente</mat-label>
                                            <input type="text" matInput placeholder="No Corriente"
                                                id="nocorrienteN{{pas}}" formControlName="nocorrienteN" readonly>
                                        </mat-form-field>
                                    </div>
                                </ng-container>

                                <div class="gr" fxFlex="100%" fxFlex.xs="100%" fxFlex.sm="100%">
                                    <b>Familia</b>
                                </div>
                                <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="33%">
                                    <mat-form-field appearance="outline">
                                        <mat-label>Monto Apr</mat-label>
                                        <input type="tel" readonly matInput placeholder="Monto Apr" id="montoF{{pas}}"
                                            formControlName="montoF">
                                    </mat-form-field>
                                </div>
                                <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="33%">
                                    <mat-form-field appearance="outline">
                                        <mat-label>Corriente</mat-label>
                                        <input type="text" matInput placeholder="Corriente" id="corrienteF{{pas}}"
                                            formControlName="corrienteF" readonly>
                                    </mat-form-field>
                                </div>
                                <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="33%">
                                    <mat-form-field appearance="outline">
                                        <mat-label>No Corriente</mat-label>
                                        <input type="text" matInput placeholder="No Corriente" id="nocorrienteF{{pas}}"
                                            formControlName="nocorrienteF" readonly>
                                    </mat-form-field>
                                </div>

                            </ng-container>

                            <ng-container *ngSwitchCase="'pagad'">

                                <div class="gr" fxFlex="100%" fxFlex.xs="100%" fxFlex.sm="100%">
                                    <b>Negocio</b>
                                </div>

                                <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="15%">
                                    <mat-form-field appearance="outline">
                                        <mat-label>Saldo</mat-label>
                                        <input type="tel" matInput placeholder="Valor Saldo" id="saldo{{pas}}"
                                            formControlName="saldo">
                                    </mat-form-field>
                                </div>
                                <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="15%">
                                    <mat-form-field appearance="outline">
                                        <mat-label>Valor Cuota día</mat-label>
                                        <input type="tel" matInput placeholder="Valor Cuota dia" id="cuota{{pas}}"
                                            formControlName="cuota">
                                    </mat-form-field>
                                </div>
                                <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="15%">
                                    <mat-form-field appearance="outline">
                                        <mat-label>Valor Obligacion</mat-label>
                                        <input type="text" matInput placeholder="Valor Obligacion"
                                            id="corrienteN{{pas}}" formControlName="corrienteN" readonly>
                                    </mat-form-field>
                                </div>

                            </ng-container>

                            <ng-container *ngSwitchCase="'periodicidad'">

                                <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="33%">
                                    <mat-form-field>
                                        <mat-label>Clase</mat-label>
                                        <mat-select formControlName="clase" id="clase{{pas}}" required>
                                            <mat-option>--</mat-option>
                                            <mat-option *ngFor="let cla of clasePasivo" [value]="cla.id">
                                                {{cla.name}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>

                                <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="33%">
                                    <mat-form-field>
                                        <input type="text" matInput placeholder="Acreedor" id="acreedor{{pas}}"
                                            formControlName="acreedor">
                                    </mat-form-field>
                                </div>
                                <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="33%">
                                    <mat-form-field>
                                        <input type="tel" matInput placeholder="Monto Apr" id="monto{{pas}}"
                                            formControlName="monto">
                                    </mat-form-field>
                                </div>
                                <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="33%">
                                    <mat-form-field>
                                        <input type="tel" matInput placeholder="Saldo Actual" id="saldo{{pas}}"
                                            formControlName="saldo">
                                    </mat-form-field>
                                </div>
                                <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="33%">
                                    <mat-form-field>
                                        <input type="tel" matInput placeholder="Plazo" id="plazo{{pas}}"
                                            formControlName="plazo">
                                    </mat-form-field>
                                </div>
                                <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="33%">
                                    <mat-form-field>
                                        <input type="tel" matInput placeholder="#Cuota Actual" id="cuota{{pas}}"
                                            formControlName="cuota">
                                    </mat-form-field>
                                </div>

                                <div class="gr" fxFlex="50%" fxFlex.xs="50%" fxFlex.sm="50%">
                                    <mat-form-field>
                                        <mat-label>Periodo Capital</mat-label>
                                        <mat-select formControlName="periodo" [compareWith]="compareFunction" required>
                                            <mat-option>-Seleccione-</mat-option>
                                            <mat-option *ngFor="let pe of periodo" [value]="pe">
                                                {{pe.name}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>

                                <div class="gr" fxFlex="50%" fxFlex.xs="50%" fxFlex.sm="50%">
                                    <mat-form-field>
                                        <input type="text" matInput placeholder="Destino" id="destino{{pas}}"
                                            formControlName="destino">
                                    </mat-form-field>
                                </div>
                                <div class="gr" fxFlex="100%" fxFlex.xs="100%" fxFlex.sm="100%">
                                    Tasa: <span>{{itemrow.value.tasa}}</span>
                                    <mat-slider thumbLabel formControlName="tasa" min="0.8" max="4" step="0.1">
                                    </mat-slider>
                                </div>
                                <div class="gr" fxFlex="100%" fxFlex.xs="100%" fxFlex.sm="100%">
                                    <mat-radio-group formControlName="pago" aria-label="Select an option">
                                        <mat-radio-button value="1">Pago Periodico</mat-radio-button>
                                        <mat-radio-button (click)="addCuotas(pas)" value="2">Pago Irregular
                                        </mat-radio-button>
                                    </mat-radio-group>
                                </div>

                                <ng-container *ngIf="itemrow.value.pago ==1">
                                    <fieldset fxLayout="row wrap">
                                        <legend>Cuotas de interes Periodica</legend>

                                        <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="33%">
                                            <mat-form-field>
                                                <input type="tel" readonly matInput placeholder="Interes"
                                                    id="calculoint{{pas}}" formControlName="calculoint">
                                            </mat-form-field>
                                        </div>

                                        <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="33%">
                                            <mat-form-field>
                                                <mat-label>Periodo Interes</mat-label>
                                                <mat-select formControlName="periodoint" id="periodoint{{pas}}"
                                                    required>
                                                    <mat-option>-Seleccione-</mat-option>
                                                    <mat-option *ngFor="let pe of periodo" [value]="pe">
                                                        {{pe.name}}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>

                                        <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="33%">
                                            <mat-form-field>
                                                <mat-label>Proximo</mat-label>
                                                <input matInput [matDatepicker]="dp3" [min]="minDatenxt" readonly
                                                    formControlName="fechaproxint">
                                                <mat-datepicker-toggle matSuffix [for]="dp3"></mat-datepicker-toggle>
                                                <mat-datepicker #dp3 disabled="false"></mat-datepicker>
                                            </mat-form-field>
                                        </div>

                                    </fieldset>
                                    <fieldset fxLayout="row wrap">
                                        <legend>Cuotas de capital Periodica</legend>

                                        <div class="gr" fxFlex="50%" fxFlex.xs="50%" fxFlex.sm="50%">
                                            <mat-form-field>
                                                <input type="tel" matInput placeholder="Capital" id="calculocap{{pas}}"
                                                    formControlName="calculocap">
                                            </mat-form-field>
                                        </div>
                                        <div class="gr" fxFlex="50%" fxFlex.xs="50%" fxFlex.sm="50%">
                                            <mat-form-field>
                                                <mat-label>Proximo</mat-label>
                                                <input matInput [matDatepicker]="dp4" readonly [min]="minDatenxt"
                                                    formControlName="fechaproxcap">
                                                <mat-datepicker-toggle matSuffix [for]="dp4"></mat-datepicker-toggle>
                                                <mat-datepicker #dp4 disabled="false"></mat-datepicker>
                                            </mat-form-field>
                                        </div>
                                    </fieldset>
                                </ng-container>

                                <ng-container *ngIf="itemrow.value.pago ==2">
                                    <div fxLayout="row wrap" formArrayName="cuotasRow">
                                        <div *ngFor="let cuotaint of cuotas(pas).controls; let cu=index">
                                            <div [formGroupName]="cu" fxLayout="row wrap">
                                                <div class="gr" fxFlex="50%" fxFlex.xs="50%" fxFlex.sm="50%">
                                                    <mat-form-field>
                                                        <input type="tel" matInput placeholder="Cuota"
                                                            formControlName="cuota">
                                                    </mat-form-field>
                                                </div>
                                                <div class="gr" fxFlex="50%" fxFlex.xs="50%" fxFlex.sm="50%">
                                                    <mat-form-field>
                                                        <mat-label>Fecha</mat-label>
                                                        <input matInput [matDatepicker]="dp5" [min]="minDatenxt"
                                                            readonly formControlName="fecha">
                                                        <mat-datepicker-toggle matSuffix [for]="dp5">
                                                        </mat-datepicker-toggle>
                                                        <mat-datepicker #dp5 disabled="false"></mat-datepicker>
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </ng-container>
                                <br>
                                <ng-container *ngIf="itemrow.value.clase ==2">
                                    <div class="gr" fxFlex="50%" fxFlex.xs="50%" fxFlex.sm="50%">
                                        <mat-form-field>
                                            <input type="text" matInput placeholder="Corriente" id="corriente{{pas}}"
                                                formControlName="corrienteN" readonly>
                                        </mat-form-field>
                                    </div>
                                    <div class="gr" fxFlex="50%" fxFlex.xs="50%" fxFlex.sm="50%">
                                        <mat-form-field>
                                            <input type="text" matInput placeholder="No corriente"
                                                id="nocorriente{{pas}}" formControlName="nocorrienteN" readonly>
                                        </mat-form-field>
                                    </div>
                                </ng-container>

                                <ng-container *ngIf="itemrow.value.clase ==1">
                                    <div class="gr" fxFlex="50%" fxFlex.xs="50%" fxFlex.sm="50%">
                                        <mat-form-field>
                                            <input type="text" matInput placeholder="Corriente"
                                                formControlName="corrienteF" readonly>
                                        </mat-form-field>
                                    </div>
                                    <div class="gr" fxFlex="50%" fxFlex.xs="50%" fxFlex.sm="50%">
                                        <mat-form-field>
                                            <input type="text" matInput placeholder="No corriente"
                                                id="nocorrienteF{{pas}}" formControlName="nocorrienteF" readonly>
                                        </mat-form-field>
                                    </div>

                                </ng-container>

                            </ng-container>

                            <ng-container *ngSwitchCase="'tarjetas'">

                                <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="25%">
                                    <mat-form-field>
                                        <mat-label>Clase</mat-label>
                                        <mat-select formControlName="clase" id="clase{{pas}}" required>
                                            <mat-option>--</mat-option>
                                            <mat-option *ngFor="let cla of clasePasivo" [value]="cla.id">
                                                {{cla.name}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>

                                <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="26%">
                                    <mat-form-field>
                                        <input type="text" matInput placeholder="Acreedor" id="acreedor{{pas}}"
                                            formControlName="acreedor">
                                    </mat-form-field>
                                </div>
                                <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="26%">
                                    <mat-form-field>
                                        <input type="tel" matInput placeholder="Cupo" id="monto{{pas}}"
                                            formControlName="monto">
                                    </mat-form-field>
                                </div>
                                <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="26%">
                                    <mat-form-field>
                                        <input type="tel" matInput placeholder="Saldo" id="saldo{{pas}}"
                                            formControlName="saldo">
                                    </mat-form-field>
                                </div>
                                <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="26%">
                                    <mat-form-field>
                                        <input type="tel" matInput placeholder="Cuota Cent Riesgo" id="cuota{{pas}}"
                                            formControlName="cuota">
                                    </mat-form-field>
                                </div>

                                <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="26%">
                                    <mat-form-field>
                                        <input type="tel" readonly matInput placeholder="Cuota Calcu"
                                            id="cuotacalcu{{pas}}" formControlName="cuotacalcu">
                                    </mat-form-field>
                                </div>
                                <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="26%">
                                    <mat-form-field>
                                        <mat-label>Cuota difiere</mat-label>
                                        <mat-select formControlName="periodo" [compareWith]="compareFunction" required>
                                            <mat-option disabled>--</mat-option>
                                            <mat-option *ngFor="let pe of CuotasDifiere" [value]="pe">
                                                {{pe.name}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>

                                <ng-container *ngIf="itemrow.value.clase ==2">
                                    <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="26%">
                                        <mat-form-field>
                                            <input type="text" matInput placeholder="Corriente" id="corriente{{pas}}"
                                                formControlName="corrienteN" readonly>
                                        </mat-form-field>
                                    </div>
                                    <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="26%">
                                        <mat-form-field>
                                            <input type="text" matInput placeholder="No corriente"
                                                id="nocorriente{{pas}}" formControlName="nocorrienteN" readonly>
                                        </mat-form-field>
                                    </div>
                                </ng-container>

                                <ng-container *ngIf="itemrow.value.clase ==1">
                                    <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="26%">
                                        <mat-form-field>
                                            <input type="text" matInput placeholder="Corriente" id="corrienteF{{pas}}"
                                                formControlName="corrienteF" readonly>
                                        </mat-form-field>
                                    </div>
                                    <div class="gr" fxFlex="33%" fxFlex.xs="33%" fxFlex.sm="26%">
                                        <mat-form-field>
                                            <input type="text" matInput placeholder="No corriente"
                                                id="nocorrienteF{{pas}}" formControlName="nocorrienteF" readonly>
                                        </mat-form-field>
                                    </div>
                                </ng-container>
                            </ng-container>

                        </ng-container>
                    </ng-container>

                    <button class="btndelete" color="warn" mat-icon-button
                        [disabled]="balanceForm.controls.pasivosRows['controls'].length ==1"
                        (click)="deletePasivosRow(pas)">
                        <mat-icon>cancel</mat-icon>
                    </button>

                </div>
            </div>
            <button mat-fab aria-label="add" mat-mini-fab class="btnadd" type="button" color="accent"
                (click)="addNewPasivosRow()" [disabled]="balanceForm.controls.pasivosRows['controls'].length >=20">
                <mat-icon>add</mat-icon>
            </button>
        </mat-card-content>
    </mat-card>
    <!-- total pasivos -->
    <mat-card>
        <mat-card-header>
            <mat-card-title>
                Total Pasivos
            </mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <table>
                <thead>
                    <tr>
                        <th></th>
                        <th>Cuota</th>
                        <th>Corriente</th>
                        <th>No corriente</th>
                    </tr>
                </thead>
                <tr>
                    <td>Familia</td>
                    <td style="text-align: right;">{{balanceForm.controls.tcuotaf.value| currency:'$' : 'symbol' :
                        '1.0-0'}}</td>
                    <td style="text-align: right;">{{balanceForm.controls.tcorrientef.value| currency:'$': 'symbol' :
                        '1.0-0'}}</td>
                    <td style="text-align: right;">{{balanceForm.controls.tnocorrientef.value| currency:'$': 'symbol' :
                        '1.0-0'}}</td>

                </tr>
                <tr>
                    <td>Negocio</td>
                    <td style="text-align: right;">{{balanceForm.controls.tcuotan.value| currency:'$': 'symbol' :
                        '1.0-0'}}</td>
                    <td style="text-align: right;">{{balanceForm.controls.tcorrienten.value| currency:'$': 'symbol' :
                        '1.0-0'}}</td>
                    <td style="text-align: right;">{{balanceForm.controls.tnocorrienten.value| currency:'$': 'symbol' :
                        '1.0-0'}}</td>
                </tr>
                <tr>

                </tr>
            </table>
        </mat-card-content>
    </mat-card>
</form>